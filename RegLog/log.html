<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="стили/index/style.css">
    <link rel="stylesheet" href="Fonts/Extra Bold/misc/Montserrat-5829.css">
    <link rel="stylesheet" href="Js/main.js">
    <link rel="stylesheet" href="Adaptare/style.css">
    <title>Document</title>
</head>
<body>
    <div class="left-section">
        <img src="img/1.png" alt="" style="width: 70vh; height: 100vh;">
        
        <div class="logo">
            Fiesta Studio
        </div>
        <header>
            <nav>
                <ul>
                    <li><a href="#">О нас</a></li>
                    <li><a href="#">Контакты</a></li>
                    <li><a href="#">Главная</a></li>
                </ul>
            </nav>
        </header>
        <div class="Welcome">
            Добро пожаловать <br>
            на Fiesta Studio
        </div>
        <div class="Welcome2">
            Мне всегда казалось, что создание маии на<br>
            праздниках - это искусство и Fiesta Studio<br>
            подтвердили это на практике!
        </div>
        <div class="element">
            <img src="img/Element.png" alt="">
        </div>
    </div>
     <div class="REG">
       Войти в акаунт
        </div>
    <div class="RegLog">
       
        <form id="myForm">
            <label for="username"></label>
            <input type="text" id="username" name="username" placeholder="Имя пользователя" required>
            
            <label for="email"></label>
            <input type="email" id="email" name="email" placeholder="Электронная почта" required>
            
            <label for="password"></label>
            <input class="password.input" type="password"  placeholder="пороль" id="password" name="password" required>

           
            <button class="button"  onclick="login()">Войти в акаунт</button>
            <div class="link">
                Нет акаунта?
                <div class="Log">
                    <ul>
                    <li><a href="index.html">Зарегестрироваться</a></li>
                    </ul>
                </div>
                
            </div>
           
        </form>
        <script>
            async function login() {
                const username = document.getElementById('username').value;
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;
    
                try {
                    const response = await fetch('http://localhost:3000/login', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            username: username,
                            email: email,
                            password: password
                        })
                    });
    
                    if (!response.ok) {
                        alert('wrong password');
                        throw new Error('Network response was not ok');
                    }
                    else alert('welcome, ' + username);
    
                    const result = await response.json();
                    console.log(result);
    
                    // Дополнительные действия, если необходимо
                } 
                catch (error) {
                    console.error('There was a problem with the fetch operation:', error);
                }
            }
        </script>
    </div>
</div>
</body>
</html>
