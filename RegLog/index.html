<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="стили/index/style.css">
    <link rel="stylesheet" href="Fonts/Extra Bold/misc/Montserrat-5829.css">
    <title>Fiesta Studio</title>
    <link rel="icon" href="../img/logo.png">
</head>
<body>
    <div class="left-section">
        
        <div class="top">
            <img src="../img/logo.png" alt="" class="logo">
            <header>
                <a href="#" class="header-links">О нас</a>
                <a href="#" class="header-links">Контакты</a>
                <a href="../index.html" class="header-links">Главная</a>
            </header>
        </div>
        <div class="Welcome">Добро пожаловать</div>
        <div class="Welcome2">
            Мне всегда казалось, что создание маии на
            праздниках - это искусство и Fiesta Studio
            подтвердили это на практике!
        </div>
        <div class="element"><img src="img/Element.png" alt=""></div>
    </div>
    <div class="RegLog">
        <h2 class="REG">Создать акаунт</h2>
        <form id="myForm">
            <label for="username"></label>
            <input type="text" id="username" name="username" placeholder="Имя пользователя" required>
            <label for="email"></label>
            <input type="email" id="email" name="email" placeholder="Электронная почта" required>
            <label for="password"></label>
            <input class="password.input" type="password"  placeholder="пороль" id="password" name="password" required>
            <button class="button"  onclick="submitForm()">Создать акаунт</button>
            <p class="qeustion">Есть аккаунт? <a href="log.html" class="logIn">Войти</a></p>
        </form> 
    </div>
    <script>
        async function submitForm() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
    
            try {
                const response = await fetch('http://localhost:3000/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: username,
                        email: email,
                        password: password
                    })
                });
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                else alert('вы зарегистрированы')
    
                const result = await response.json();
                console.log(result);
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
            }
        }
    </script>
</div>
</body>
</html>


